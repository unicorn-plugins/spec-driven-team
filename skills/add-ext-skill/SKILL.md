---
name: "add-ext-skill"
description: "외부호출 스킬 추가 유틸리티"
user-invocable: true
model: "haiku"
---

# add-ext-skill

## 목표

다른 플러그인의 스킬을 호출하는 외부호출 스킬을 spec-driven-team 플러그인에 추가함.

## 활성화 조건

- 사용자가 `/spec-driven-team:add-ext-skill {대상플러그인명} {스킬명}` 형식으로 호출
- 예: `/spec-driven-team:add-ext-skill dify workflow-create`

## 워크플로우

### Step 1: 입력 검증
사용자 입력에서 대상 플러그인명과 스킬명 추출:
- 대상 플러그인명: 호출할 외부 플러그인 (예: `dify`)
- 스킬명: 호출할 스킬 (예: `workflow-create`)

입력 형식 검증:
- 플러그인명은 kebab-case만 허용
- 스킬명은 kebab-case만 허용
- 공백이나 특수문자 제거

### Step 2: 외부호출 스킬 파일 생성
`skills/ext-{대상플러그인명}/SKILL.md` 파일을 생성하고 아래 템플릿으로 작성:

```markdown
---
name: "ext-{대상플러그인명}"
description: "{대상플러그인명} 플러그인 연동 스킬"
user-invocable: true
model: "haiku"
---

# ext-{대상플러그인명}

## 목표

{대상플러그인명} 플러그인의 워크플로우를 실행하여 spec-driven-team과 연동함.

## 활성화 조건

- spec-driven-team 워크플로우에서 {대상플러그인명} 기능이 필요한 경우
- 사용자가 직접 `/spec-driven-team:ext-{대상플러그인명}` 호출

## 워크플로우

### Step 1: 컨텍스트 준비
현재 프로젝트의 컨텍스트 정보를 {대상플러그인명} 플러그인에 전달하기 위해 준비:
- 프로젝트 루트 경로
- 관련 파일 목록
- 현재 작업 상태

### Step 2: {대상플러그인명} 워크플로우 실행 → Skill: {대상플러그인명}:{스킬명}
- **INTENT**: {대상플러그인명}의 {스킬명} 워크플로우를 실행하여 연동 작업 수행
- **ARGS**: 준비된 컨텍스트 정보와 사용자 요청사항
- **RETURN**: {대상플러그인명} 실행 결과를 spec-driven-team 워크플로우에 통합

### Step 3: 결과 통합
{대상플러그인명} 실행 결과를 spec-driven-team의 워크플로우에 통합:
- 생성된 파일이 있으면 프로젝트에 적용
- 상태 정보 업데이트
- 다음 단계 안내

## MUST 규칙

1. {대상플러그인명} 플러그인이 설치되어 있어야 함
2. 컨텍스트 정보를 정확히 전달해야 함
3. 실행 결과를 적절히 검증해야 함

## MUST NOT 규칙

1. {대상플러그인명} 플러그인의 내부 로직을 복제하지 않음
2. 에러 발생 시 무시하고 진행하지 않음
3. 사용자 확인 없이 파일을 덮어쓰지 않음

## 검증 체크리스트

- [ ] {대상플러그인명} 플러그인 설치 상태 확인됨
- [ ] 컨텍스트 정보가 올바르게 전달됨
- [ ] 실행 결과가 예상대로 처리됨
- [ ] 에러 상황에 대한 적절한 처리가 이루어짐
```

### Step 3: 스킬 등록 확인
생성된 외부호출 스킬이 올바르게 등록되었는지 확인:
- 파일 경로: `skills/ext-{대상플러그인명}/SKILL.md`
- 파일 내용이 올바른 형식인지 검증
- 대상 플러그인명과 스킬명이 정확히 반영되었는지 확인

### Step 4: 사용법 안내
생성된 외부호출 스킬 사용법을 사용자에게 안내:

```
✅ 외부호출 스킬 생성 완료!

📁 생성된 파일: skills/ext-{대상플러그인명}/SKILL.md

🚀 사용법:
1. 직접 호출: /spec-driven-team:ext-{대상플러그인명}
2. 다른 스킬에서 위임: Skill: ext-{대상플러그인명}

⚠️ 사전 요구사항:
- {대상플러그인명} 플러그인이 설치되어 있어야 합니다
- /{대상플러그인명}:{스킬명} 명령이 사용 가능해야 합니다

💡 연동 시나리오 예시:
spec-driven-team → ext-{대상플러그인명} → {대상플러그인명}:{스킬명}
```

## 참고사항

### External 타입 스킬 특징
외부호출 스킬(External type)은 다음과 같은 특징을 가집니다:

- **실행 경로**: 직결형 (Agent 계층 생략)
- **핵심 도구**: Skill 도구를 사용하여 다른 플러그인의 스킬 호출
- **용도**: 크로스-플러그인 워크플로우 연동
- **프롬프트 구조**: 일반 스킬과 동일하되 Skill 위임에 특화

### 위임 표기법
외부 스킬 호출 시 다음 3항목이 필수입니다:

```markdown
### Step N: 워크플로우 실행 → Skill: {외부플러그인}:{스킬명}
- **INTENT**: 호출 목적 (왜 이 스킬을 호출하는지)
- **ARGS**: 전달 인자 (컨텍스트 정보, 사용자 요청)
- **RETURN**: 호출 후 기대하는 상태 또는 복귀 조건
```

### 네이밍 규칙
- 외부호출 스킬명: `ext-{대상플러그인명}` (예: `ext-dify`)
- 스킬 디렉토리: `skills/ext-{대상플러그인명}/`
- 호출 명령: `/spec-driven-team:ext-{대상플러그인명}`

## MUST 규칙

1. 외부호출 스킬 파일을 정확한 경로에 생성해야 함
2. 템플릿의 모든 플레이스홀더를 실제 값으로 치환해야 함
3. 생성된 스킬이 올바른 SKILL.md 형식을 준수해야 함

## MUST NOT 규칙

1. 존재하지 않는 플러그인에 대한 외부호출 스킬 생성 금지
2. 템플릿 형식을 임의로 변경하지 않음
3. 기존 스킬을 덮어쓰지 않고 사용자에게 확인 요청

## 검증 체크리스트

- [ ] 입력된 플러그인명과 스킬명이 올바른 형식인지 확인됨
- [ ] 외부호출 스킬 파일이 정확한 경로에 생성됨
- [ ] 템플릿의 모든 플레이스홀더가 실제 값으로 치환됨
- [ ] 생성된 파일이 올바른 SKILL.md 형식을 준수함
- [ ] 사용자에게 명확한 사용법 안내가 제공됨